// import 'dotenv/config';
// import http from 'http';
// import app from './app.js';

// import { initSocket } from './configs/socket.config.js';

// // Connect to MongoDB
// connectDB();

// // Create HTTP server
// const server = http.createServer(app);

// // Initialize Socket.IO
// const { io, userSocketMap } = initSocket(server);

// // Start server only if not in serverless environment
// if(process.env.NODE_ENV!=='production'){
//   const PORT = process.env.PORT || 5000;
//   server.listen(PORT, () => console.log(`Server running at http://localhost:${PORT}`));
// }

// export { io, userSocketMap,server };



